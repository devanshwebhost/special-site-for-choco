(self.modernJsonp=self.modernJsonp||[]).push([["96673"],{725201(e,t,r){r.d(t,{E2:()=>n,I0:()=>l,KU:()=>u,N9:()=>a,Rv:()=>o,X9:()=>i,Yl:()=>p,hh:()=>d,t8:()=>s});let n=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},i=(e,t,r)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(r/255)**2.2,a=e=>{let t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},o=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:r,minSaturationClamp:i,mixVal:a=1,minBrightnessClamp:o=0})=>{let s=n(e);null===s&&(s=[229,229,224]);let l=((e,t,r)=>{let n=Math.max(e/=255,t/=255,r/=255),i=n-Math.min(e,t,r),a=0;return 0!==i&&(a=(n===e?(t-r)/i+6*(t<r):n===t?(r-e)/i+2:(e-t)/i+4)*60)<0&&(a+=360),{h:a,s:0===n?0:i/n,b:n}})(...s),d=(e,t,r)=>Math.max(t,Math.min(e,r));l.s=d(l.s*(1+t),i,1),l.b=d(l.b*(1+r),o,1);let c=(({h:e,s:t,b:r})=>{let n=r*t,i=n*(1-Math.abs(e/60%2-1)),a=r-n,o=0,s=0,l=0;return e<60?(o=n,s=i):e<120?(o=i,s=n):e<180?(s=n,l=i):e<240?(s=i,l=n):e<300?(o=i,l=n):(o=n,l=i),{r:Math.round((o+a)*255),g:Math.round((s+a)*255),b:Math.round((l+a)*255)}})({...l}),p=e=>({r:Math.round(c.r*a+e*(1-a)),g:Math.round(c.g*a+e*(1-a)),b:Math.round(c.b*a+e*(1-a))}),u=p(0),h=p(255);return[[u.r,u.g,u.b],[h.r,h.g,h.b]]};function s(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),r="rgba"===t.slice(0,4).toLowerCase(),n=!r&&"rgb"===t.slice(0,3).toLowerCase();if(!r&&!n)return{r:0,g:0,b:0,a:0};let i=t.indexOf("("),a=t.indexOf(")",i);if(-1===i||-1===a)return{r:0,g:0,b:0,a:0};let o=t.slice(i+1,a).split(",").map(e=>e.trim());if(r&&4!==o.length||n&&3!==o.length)return{r:0,g:0,b:0,a:0};let[s,l,d,c]=o,p=Number(s),u=Number(l),h=Number(d),m=r?Number(c):1;return[p,u,h].some(e=>Number.isNaN(e))||r&&Number.isNaN(m)?{r:0,g:0,b:0,a:0}:{r:p,g:u,b:h,a:m}}function l(e,t){let r=e.a+t.a*(1-e.a);return 0===r?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/r),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/r),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/r),a:r}}let d=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`,c=e=>e.toString(16).padStart(2,"0"),p=(e,t)=>{let r=n(e);if(!r)throw Error(`Invalid hex color: ${e} for lightenHexByPercentage`);let[i,a,o]=r,s=Math.max(0,Math.min(100,t))/100,l=Math.round(i+(255-i)*s),d=Math.round(a+(255-a)*s),p=Math.round(o+(255-o)*s);return`#${c(l)}${c(d)}${c(p)}`},u=(e,t)=>d(((e,t)=>{let r=n(e);if(!r)throw Error(`Invalid hex color: ${e} for hexToRgba`);let[i,a,o]=r;return{r:i,g:a,b:o,a:Math.max(0,Math.min(1,t))}})(e,t))},622533(e,t,r){r.d(t,{A:()=>h});var n=r(840910),i=r(859471),a=r(950794),o=r(824589),s=r(690870),l=r(998619);let d="0px 0px 8px rgba(0, 0, 0, 0.1)";var c=r(467780),p=r(996419),u=r(562615);function h({children:e,footerConfig:t,headerConfig:r,height:h,hideOnScroll:m,hideOnScrollState:{isHidden:f,updateHiddenState:_},isFooterHidden:x,noPadding:g,paddingX:b,paddingY:v=3,type:y,zIndex:w,isStoryPin:A}){let S,j;(0,i.useEffect)(()=>{(0,n.A)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:P,ignoreObstructions:I,zIndexForGestaltBug:k}=r||{},{appUpsellFooterConfig:E,footerInLego:z,navFooterConfig:H}=t||{},T=!!E,C="header"===y?"top":"bottom",{isDarkMode:M}=(0,s.D2)(),{isRTL:L}=(0,c._8)(),{mWebCloseupRedesignEnabled:O}=(0,o.A)(),R=(0,i.useRef)(null),D=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!I){let e=R.current;D.current=P&&e&&Array.isArray(e.children)?e.children[0]:e,D.current instanceof HTMLElement&&l.A.addObstruction(C,D.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!I&&D.current instanceof HTMLElement&&l.A.removeObstruction(C,D.current)}},[I,P,C,M]);let F="top"===C?"relative":"fixed",N=g?0:v,B=(h??64)+(r?.overrideTop||0),U=m||H?{transition:z||O?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...f||x?{transform:`translateY(${"top"===C?-B:B}px)`,opacity:z||O?0:1}:Object.freeze({})}:{},W=2*!("relative"!==F||r?.noGutter),V=W?-W:0,Y=M?s.ee:"rgba(255,255,255,.95)";M&&("header"===y?S=-1:j=-1);let $=z?T?void 0:h??64:"100%",J=r?.isTranslucent&&Y||M?Y:"var(--sema-color-background-default)",q=r?.isTransparentBackground&&1?"var(--sema-color-background-transparent)":J,G=(0,i.useMemo)(()=>({height:"footer"===y&&O?`calc(${$} + env(safe-area-inset-bottom))`:$,...O&&"footer"===y?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(N||0)}px)`}:Object.freeze({})}),[O,$,y,N]),K=(0,p.A)({skipExpActivation:!0});return(0,u.jsx)(a.az,{ref:R,bottom:"footer"===y,dangerouslySetInlineStyle:{__style:{top:S,bottomStyle:j,...!w||k?{zIndex:k||1}:Object.freeze({}),...P?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...r?.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...U}},"data-test-id":y,display:T?"flex":void 0,height:h&&!z?h:void 0,left:!0,marginEnd:z?"auto":V,marginStart:z?"auto":V,onTransitionEnd:()=>{(m||H)&&D.current&&(f||x?l.A.removeObstruction(C,D.current):l.A.addObstruction(C,D.current))},position:F,right:!0,top:"header"===y,width:z||"fixed"!==F?void 0:"100%",zIndex:k?void 0:w,children:(0,u.jsx)(a.az,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:q,paddingLeft:L||!K||A?void 0:"8px",paddingRight:L&&K&&!A?"8px":void 0,...G,boxShadow:O&&"footer"===y?`0 10px 0 0 ${q}, ${d}`:z?d:void 0,marginBottom:z&&!H?.docked?16:void 0,...P?{pointerEvents:"auto"}:Object.freeze({}),...r?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:z||t?.alignCenter?"flex":void 0,marginEnd:z?"auto":void 0,marginStart:z?"auto":void 0,paddingX:b||4*("footer"===y&&!g)+W,paddingY:N,position:"relative",rounding:z&&!H?.docked?"pill":void 0,width:H?H.footerWidth:T?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:_}):e})})}},153645(e,t,r){r.r(t),r.d(t,{default:()=>d});var n=r(840910),i=r(859471),a=r(950794),o=r(622533),s=r(469870),l=r(562615);function d({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:d,isTransparentBackground:c,noGutter:p,overrideTop:u,useRoundedCorners:h,zIndexForGestaltBug:m,isStoryPin:f,..._}){(0,i.useEffect)(()=>{(0,n.A)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:x,paddingY:g=3,zIndex:b}=_;return(0,l.jsx)(a.ib,{height:t?44+2*(x?0:g)*4:void 0,top:u||0,zIndex:b||void 0,children:(0,l.jsx)(s.A,{hideOnScroll:_.hideOnScroll,children:n=>(0,l.jsx)(o.A,{..._,headerConfig:{isTranslucent:d,isTransparentBackground:c,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:r,noGutter:p,overrideTop:u,zIndexForGestaltBug:m,useRoundedCorners:h},hideOnScrollState:n,isStoryPin:f,type:"header"})})})}},469870(e,t,r){r.d(t,{A:()=>o});var n=r(859471),i=r(889237);function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o extends n.Component{constructor(...e){super(...e),a(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),a(this,"lastScrollPos",0),a(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),a(this,"handleScroll",(0,i.A)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state,n=window.scrollY,i=n-this.lastScrollPos,a="none",{scrollHeight:o,clientHeight:s}=document.documentElement||{};Number.isNaN(o)||Number.isNaN(s)||(a=i<0?n<=Math.abs((window.scrollMinY||0)+Math.max(i,20))?"start":"none":n>=(window.scrollMaxY||o-s)-Math.max(i,20)?"end":"none");let l=55*!t?.isModal;e?i>20&&r&&n>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(i<-20&&!r||n<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===a&&!r||n<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(n>l||"end"===a)&&r&&(this.updateHiddenState(!1),t?.onScroll(!1)):(i<-20||"start"===a)&&r||n<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(i>20||"end"===a)&&!r&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=n},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state;return e({isHidden:!t?.forceShow&&r,updateHiddenState:this.updateHiddenState})}}},261530(e,t,r){r.d(t,{A:()=>n});function n(e,t){return t in e}},370407(e,t,r){r.d(t,{A:()=>d});var n=r(859471),i=r(106386),a=r(810972),o=r(332619),s=r(263918);let l=(e,t,r)=>e.resources[t]?.[r];function d(e){let{name:t,optionsKey:r}=e??{name:"",optionsKey:""},d=t===o.W,c=(0,s.uN)(),p=c?.get(t,r);if(p)throw p;let u=(0,a.createSelector)(e=>l(e,t,r),e=>e?.data),h=(0,a.createSelector)(e=>l(e,t,r),e=>e?.auxData),m=(0,a.createSelector)(e=>l(e,t,r),e=>e?.error),f=(0,a.createSelector)(e=>l(e,t,r),e=>e?.nextBookmark),_=(0,i.d4)(f),x=(0,i.d4)(u),g=(0,i.d4)(h),b=(0,i.d4)(m),v=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(d)return v.current;let y={auxData:g,data:x,error:b,isAtEnd:"-end-"===_,nextBookmark:_};return(y.auxData!==v.current.auxData||y.data!==v.current.data||y.error!==v.current.error||y.isAtEnd!==v.current.isAtEnd||y.nextBookmark!==v.current.nextBookmark)&&(v.current=y),v.current}},992964(e,t,r){r.d(t,{A:()=>n});function n({top:e,right:t,bottom:r,left:n,windowHeight:i,windowWidth:a,threshold:o=0}){return e>=0+o&&n>=0+o&&r<=i-o&&t<=a-o}},383176(e,t,r){r.d(t,{P:()=>n,y:()=>i});let{Provider:n,getMaybe:i}=(0,r(4513).A)("PinCreateDeleteContext")},411335(e,t,r){r.d(t,{A:()=>eK});var n=r(840910),i=r(859471),a=r(106386),o=r(979638),s=r(950794),l=r(550247),d=r(61274),c=r(999345),p=r(365506),u=r(28860),h=r(186122),m=r(683965),f=r(860710),_=r(281755),x=r(351632),g=r(690870);let b={borderRadius:"32px 32px 0px 0px",bottom:0,left:0,overflow:"hidden",touchAction:"none",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",zIndex:1,width:"100vw",maxHeight:"100vw",minHeight:"30vh"},v={full:"100vh",default:"50vh",auto:""},y=({size:e,isDarkMode:t})=>(b.height=v[e],b.maxHeight="auto"===e?"90vh":"100vw",b.backgroundColor=t?g.be:"#FFFFFF",b);var w=r(476766),A=r(370714),S=r(948828),j=r(464301),P=r(562615);let I=({content:e,footer:t,header:r})=>{let[n,a]=(0,i.useState)(!1),o=(0,i.useRef)(null),l=(0,i.useCallback)(()=>{let e=o.current;e&&a(e?.clientHeight<e?.scrollHeight&&e.offsetHeight+e.scrollTop<e.scrollHeight)},[]);return(0,i.useEffect)(()=>{l()},[l]),(0,i.useEffect)(()=>(window?.addEventListener("resize",l),()=>{window?.removeEventListener("resize",l)}),[l]),(0,P.jsxs)(i.Fragment,{children:[(0,P.jsxs)(s.az,{ref:o,fit:!0,onScroll:l,overflow:"scroll",padding:0,children:[r,(0,P.jsx)(s.az,{flex:"grow",overflow:"auto",children:e})]}),!!t&&(0,P.jsx)(s.az,{dangerouslySetInlineStyle:n?{__style:{boxShadow:"var(--sema-space-0) var(--sema-space-negative-50) var(--sema-space-200) var(--sema-space-0) rgb(0 0 0 / 0.12)"}}:void 0,fit:!0,position:"relative",children:t})]})};function k({accessibilityModalLabel:e,allowClickAndDrag:t,allowBackgroundScroll:r=!1,children:a,closeOnOutsideClick:o=!0,footer:l,header:d,isOpen:c,mobileIsSlideUp:p,onDismiss:u,zIndex:h,size:m="auto"}){(0,i.useEffect)(()=>{(0,n.A)("SheetMobileWithMediaHeader","/app/packages/experiences/gestalt/SheetMobile/SheetMobileWithMediaHeader.tsx")},[]);let f=(0,A.A)(),_=(0,i.useRef)(null),{setAppFocusState:b}=(0,j.Y)(),[k,E]=(0,i.useState)(!1),{isDarkMode:z}=(0,g.D2)();if((0,i.useEffect)(()=>(c?b(!1):b(!0),()=>{c&&b(!0)}),[b,c]),(0,i.useEffect)(()=>(_.current=(0,x.A)(()=>{_.current&&E(!0)}),()=>{"u">typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&_.current&&(window.cancelAnimationFrame(_.current),_.current=null)}),[]),(0,i.useEffect)(()=>{let e=c&&!r;return e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}},[c,r]),!c)return null;let H=(({isDarkMode:e,size:t})=>{let r=e?g.be:"#FFFFFF";return{__style:{...y({size:t,isDarkMode:e}),backgroundColor:r,transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}}})({isDarkMode:z,size:m});H.__style.transform=(()=>{if(p||!(()=>{if("u"<typeof window)return!1;let e=Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth),t=Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight);return e<=380||t<=760})())return"";let e=Math.min(1,(Math.max(window.visualViewport?.width||0,window.innerWidth,document.documentElement.clientWidth)-12)/380,(Math.max(window.visualViewport?.height||0,window.innerHeight,document.documentElement.clientHeight)-12)/600);return e=Math.max(.8,e),` scale(${e})`})();let T=(({size:e,isShowing:t,isDarkMode:r})=>{let n=y({size:e,isDarkMode:r});return n.transition="all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",n.transform=t?"translateY(0)":`translateY(${v[e]||"100vh"})`,{__style:n}})({size:m,isShowing:k,isDarkMode:z});return(0,P.jsx)(S.A,{allowClickAndDrag:t,children:(0,P.jsx)(s.Wd,{children:(0,P.jsxs)(s.az,{"aria-label":e,display:"inlineBlock",height:"100%",position:"relative",role:"dialog",zIndex:h||w.QN,children:[(0,P.jsx)(s.Rp,{accessibilityLabel:f._('Mobile Sheet Mask', 'mweb.sheet_mobile.mask', 'The accessibility label for the mask of mobile sheet'),onTap:()=>{o&&u()},tapStyle:"none",children:(0,P.jsx)(s.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new s.rk(1)})}),(0,P.jsx)(s.az,{color:"default",dangerouslySetInlineStyle:p?T:H,position:"fixed",children:(0,P.jsx)(s.az,{direction:"column",display:"flex",justifyContent:"between",maxHeight:T.__style?.maxHeight||"100vh",position:"relative",width:"100%",children:(0,P.jsx)(I,{content:a,footer:l,header:d})})})]})})})}var E=r(425347);let z=({display_data:e,complete:t,dismiss:r,context_aux_data:n})=>{let a=(0,A.A)(),{logContextEvent:o}=(0,h.o)(),[l,d]=(0,i.useState)(!0),[c,p]=(0,i.useState)(0),u=()=>{d(!1),r()},x=(0,i.useCallback)((e,t)=>{o({event_type:e,component:15489,element:t,aux_data:{experience_id:n.experience_id,placement_id:n.placement_id,step_number:c+1,step_index:c}})},[n.experience_id,n.placement_id,c,o]);if((0,i.useEffect)(()=>{x(13,18257)},[c,x]),!l)return null;if(!(e.steps&&e.steps.length>0&&e.steps.every(e=>e.title&&e.subtitle&&e.primary_button&&e.image)))return(0,E.GV)(m.pv,{sampleRate:1,tags:{experience_id:n.experience_id,placement_id:n.placement_id,reason:"Required display data not present",platform:4}}),null;let g=e.steps[c];if(!g)return(0,E.GV)(m.pv,{sampleRate:1,tags:{experience_id:n.experience_id,placement_id:n.placement_id,reason:`No step for index ${c}`,platform:4}}),null;let b=window?.innerWidth||375,v=(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(s.ib,{top:0,children:(0,P.jsx)(s.az,{padding:3,position:"absolute",width:"100%",children:(0,P.jsx)(s.K0,{accessibilityLabel:a._('Dismiss', 'experiences.ExperienceModalWindow.modalDismissIconButton', 'Accessibility label for the X icon button to dismiss the modal window'),bgColor:"washLight",icon:"close",iconColor:"default",onClick:()=>{x(123,75),u()},size:"lg"})})}),(0,P.jsx)(s.iX,{contentAspectRatio:.8,height:1.25*b,width:b,children:(0,P.jsx)(s._V,{alt:g.image.image_alt,color:g.image.dominant_color||void 0,fit:"cover",naturalHeight:g.image.height,naturalWidth:g.image.width,src:g.image.url})})]}),y=(0,P.jsxs)(s.az,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",paddingX:2,paddingY:3,children:[g.secondary_button&&(0,P.jsx)(f.A,{buttonType:"secondary",data:(0,_.q)(g.secondary_button,()=>{x(102,13005),u()}),experienceSchema:2}),(0,P.jsx)(f.A,{buttonType:"primary",data:(0,_.q)(g.primary_button,()=>{c<e.steps.length-1?(x(102,13004),p(c+1)):t()}),experienceSchema:2})]});return(0,P.jsx)(k,{accessibilityModalLabel:a._('Multi Step Modal', 'experiences.ExperienceMultiStepModal.accessibilityModalLabel', 'Accessibility label for the multi step modal'),allowClickAndDrag:!1,footer:y,header:v,isOpen:l,mobileIsSlideUp:!0,onDismiss:()=>{x(123,16412),u()},size:"auto",children:(0,P.jsxs)(s.az,{padding:3,children:[(0,P.jsx)(s.az,{marginBottom:3,children:(0,P.jsx)(s._Y,{size:"500",children:g.title})}),(0,P.jsx)(s.KJ,{children:g.subtitle})]})})};function H({experience:e}){return(0,i.useEffect)(()=>{(0,n.A)("ExperienceMultiStepModal","/app/packages/experiences/Experiences/ExperienceMultiStepModal/ExperienceMultiStepModal.tsx")},[]),(0,P.jsx)(p.Je,{eligibleSchemas:[2],eligibleTypes:[26],experience:e,children:({complete:t,dismiss:r,experience:{display_data:n}})=>(0,P.jsx)(z,{complete:t,context_aux_data:{experience_id:e?.experience_id,placement_id:e?.placement_id},dismiss:r,display_data:n})})}var T=r(589939),C=r(539498),M=r(778443),L=r(837855),O=r(153645),R=r(342660),D=r(330501),F=r(805454),N=r(467780),B=r(799632),U=r(614974),W=r(495403),V=r(792307),Y=r(848450),$=r(481989),J=r(132946),q=r(991224),G=r(945932),K=r(947519),X=r(508278),Q=r(218835),Z=r(370437);r(773643);var ee=r(68448),et=r(884963),er=r(889237),en=r(891546),ei=r(992964),ea=r(902602);let eo={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}};function es({currentTabIndex:e,tabBoards:t}){(0,i.useEffect)(()=>{(0,n.A)("MoreIdeasTabs","/app/www/Homefeed/MoreIdeasTabs.tsx")},[]);let r=(0,i.useRef)(null),l=(0,i.useRef)(!1),{width:d,height:c}=(0,ee.A)()||{width:0,height:0},p=(0,i.useRef)([]),u=(0,o.Zp)(),h=(0,A.A)(),m=(0,et.A)(),f=(0,a.wA)(),_=t.length?[{href:"/",text:(0,P.jsx)(s.az,{children:h._('All', 'homefeed.moreIdeasTab.homefeedTab', 'Homefeed tab')}),tabType:1},...t.filter(e=>e).map(({id:e,name:t},r)=>({href:`/?boardId=${String(e)}`,text:(0,P.jsx)(s.az,{dangerouslySetInlineStyle:eo,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:2,ref:p.current[r]}))]:null,x=e=>1===e?11081:11082,g=(0,i.useRef)([]),b=(0,i.useCallback)(()=>{p&&p.current&&p.current.length&&p.current.forEach((e,r)=>{if(!e?.current)return;let{id:n,name:i}=t[r]||{},a=e.current.getBoundingClientRect();(0,ei.A)({left:a.left,right:a.right,top:a.top,bottom:a.bottom,windowHeight:c,windowWidth:d})&&n&&!g.current.includes(n)&&(m({event_type:13,view_type:1,view_parameter:92,component:13184,element:x(2),object_id_str:n,aux_data:{board_id:n,tab_title:i,referrer:19}}),g.current.push(n))})},[p,m,t,c,d]),v=(0,er.A)(()=>{b()},50);if((0,en.A)(()=>{p.current=Array(t.length).fill(void 0).map((e,t)=>p.current[t]||(0,i.createRef)())}),(0,i.useEffect)(()=>{b();let e=r.current;return e&&e.addEventListener("scroll",v),()=>{e?.removeEventListener("scroll",v)}},[b,v]),(0,i.useEffect)(()=>()=>{l.current&&(window.cancelAnimationFrame(l.current),l.current=null)}),!_)return null;let y=_.map(e=>({href:e.href,text:e.text,ref:e.ref}));return(0,P.jsx)(s.az,{ref:r,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,P.jsx)(s.tU,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{let t=_?.[e];if(t){let r;r=t.boardId,f((0,ea.Y)(r,e)),m({event_type:101,view_type:1,view_parameter:92,component:13184,element:x(t.tabType),aux_data:{index:e.toString(),board_id:t.boardId,referrer:19},object_id_str:t.boardId})}let{pathname:r,state:n}=_?{pathname:(_[e]||_[0]).href,state:(_[e]||_[0]).locationState||void 0}:{};u(r,{state:n})},tabs:y})})}var el=r(264323),ed=r(708322),ec=r(136078),ep=r(235505),eu=r(45051),eh=r(615300),em=r(427824),ef=r(695231),e_=r(276346),ex=r(265124);let eg=new s.rk(100);function eb({pinUrl:e,inviter:t}){(0,i.useEffect)(()=>{(0,n.A)("NuxSharedPinBanner","/app/www/pages/duplo/NuxSharedPinBanner.tsx")},[]);let r=(0,A.A)(),o=(0,ex.HR)(),[l,d]=(0,i.useState)(!0),c=(0,a.wA)(),p=()=>c((0,e_.A)(null,null)),u=(0,em.A)(e),{data:h}=(0,B.A)({name:"PinResource",options:{id:u,field_set_key:"detailed",is_mobile_fork:!0}}),m=u?o(u):null,f=h??m,_=f?.image_medium_url??f?.image_large_url,x=t.first_name??t.full_name??t.username??"",g=(0,eh.A)(r._('Tell {{ name }} what you think', 'HomePage.SharedPinBannerTitle', 'Shared pin banner title. name: inviter\'s display name'),{name:x}),{navFooterHeight:b}=(0,ef.o)();return u&&f&&x&&_&&l?(0,P.jsx)(s.az,{marginBottom:2,marginTop:2,paddingX:2,children:(0,P.jsx)(s.vF,{message:r._('See what inspired them and reply with your thoughts', 'HomePage.SharedPinBanner.Subtext', 'Subtext for shared pin banner'),offset:{bottom:b+8,top:0},onDismiss:()=>{p(),d(!1)},primaryAction:{href:e+"&hide_app_upsell=true",label:r._('See Pin', 'HomePage.SharedPinToastAction', 'CTA to view shared pin'),accessibilityLabel:r._('See shared Pin', 'HomePage.SharedPinToastAction.accessibilityLabel', 'Accessibility label for CTA to view shared pin'),onClick:p,role:"link"},secondaryAction:{accessibilityLabel:r._('Later', 'HomePage.SharedPinBannerSecondary.accessibilityLabel', 'Dismiss shared pin banner'),label:r._('Later', 'HomePage.SharedPinBannerSecondary', 'Secondary action to dismiss shared pin banner'),onClick:()=>{p(),d(!1)},role:"button"},thumbnail:{image:(0,P.jsx)(s._V,{alt:"Shared Pin",color:"transparent",fit:"cover",naturalHeight:40,naturalWidth:40,src:_})},title:g,zIndex:eg})}):null}function ev(){(0,i.useEffect)(()=>{(0,n.A)("PreferencesUpdatedBanner","/app/www/pages/duplo/PreferencesUpdatedBanner.tsx")},[]);let{shouldRefreshHomefeed:e,clearRefreshFlag:t}=(0,ep.d)(),{showToast:r}=(0,$.CG)(),a=(0,A.A)(),o=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{if(e&&!o.current){o.current=!0;let e=a._('Preferences updated! We\'re refreshing your feed now.', 'PreferencesUpdatedBanner.message', 'Message shown when user returns to homefeed after updating preferences');r(({hideToast:r})=>(0,P.jsx)(M.A,{duration:3e3,onHide:()=>{r(),t(),o.current=!1},text:e}))}else e||(o.current=!1)},[e,t,r,a]),null}var ey=r(350142),ew=r(667533);function eA(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let eS=(0,ew.A)(()=>r.e("82269").then(r.bind(r,347648)),void 0,e=>347648,"app-www-pages-duplo-CoreActionsHeader",e=>["82269"]),ej=(0,ew.A)(()=>r.e("65469").then(r.bind(r,587517)),void 0,e=>587517,"app-www-stories-FullWidthPinStory",e=>["65469"]),eP=(0,ew.A)(()=>r.e("32244").then(r.bind(r,813375)),{ssr:!1},e=>813375,void 0,void 0),eI=(0,ew.A)(()=>r.e("30764").then(r.bind(r,245437)),void 0,e=>245437,"app-www-Homefeed-HomefeedMoreIdeasTabContent",e=>["30764"]),ek=(0,ew.A)(()=>r.e("45231").then(r.bind(r,476472)),void 0,e=>476472,"app-www-stories-LandingPageStory-LandingPageStory",e=>["45231"]),eE=(0,ew.A)(()=>Promise.all([r.e("18324"),r.e("64649"),r.e("99924")]).then(r.bind(r,467024)),{ssr:!1},e=>467024,void 0,void 0),ez=(0,ew.A)(()=>Promise.all([r.e("43744"),r.e("98728")]).then(r.bind(r,507995)),{ssr:!1},e=>507995,void 0,void 0),eH=(0,ew.A)(()=>r.e("44529").then(r.bind(r,160328)),{ssr:!1},e=>160328,void 0,void 0),eT=(0,ew.A)(()=>Promise.all([r.e("91796"),r.e("38518")]).then(r.bind(r,206165)),{ssr:!1},e=>206165,void 0,void 0),eC=(0,i.lazy)(()=>r.e("93840").then(r.bind(r,907795))),eM=(0,i.lazy)(()=>r.e("76457").then(r.bind(r,56560))),eL=(0,i.lazy)(()=>r.e("22387").then(r.bind(r,403294))),eO=(0,i.lazy)(()=>r.e("80481").then(r.bind(r,227928))),eR=(0,i.lazy)(()=>r.e("54615").then(r.bind(r,922346))),eD=(0,i.lazy)(()=>r.e("34161").then(r.bind(r,493672))),eF={feedKey:eu.bg,trafficSource:eu.mA,resourceName:eu.jC,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},eN={first_page_size:"25",page_size:"10"},eB=({webMobileHomeFeedTakoverExperience:e})=>{let{feedKey:t,feedItemProps:r,pullToRefresh:n}=eF,i=(0,o.zy)(),d=(0,o.Zp)(),c=(0,a.d4)(({session:e})=>e.firstHomeFeedRequestAfterNux),p={webMobileHomeFeedTakoverExperience:e,location:i,navigate:d},u=(0,a.d4)(({feeds:e})=>e[t]??[]),{selectedUseCases:h,selectedPins:m}=(0,ec.p)(),f=(0,el.xx)(h,m),_=!c,x=f.length>0?{in_nux:c,nux_signals_map:f}:{in_nux:c},g={...eu.Vf,..._?{...eN}:{...x},in_local_navigation:!0,static_feed:!!(i&&(i.pathname.includes("pwt_performance_testing")||void 0!==(0,J.A)(i.search).pwt_performance_testing))},b=(0,B.A)({name:eu.jC,options:g}),{isAtEnd:v,isFetching:y,fetchMore:w,data:A,refresh:S}=b,j={includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,ex.zy)())};c&&(0,E.GV)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb"}});let I=(()=>{let{isGraphQLEnabledInGeneral:e}=(0,K.aR)(),{locale:t}=(0,N._8)(),r=(0,ex.zy)();return({feedItems:n,prevFeedItems:i,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:{pinId:o,feedItem:s}})=>{if(!n.length)return null;if(a&&i.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),r=e(i,5),a=e(n,5),o={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,E.GV)("home_product.homefeed.refresh",{sampleRate:1,tags:o}),JSON.stringify(r)===JSON.stringify(a)&&(0,E.GV)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:o})}if(o&&!e){if(i.length>0&&i[0]!==n[0])return(0,V.y1)().removeItem(l.sH),{feedItem:null,pinId:null};else if((0===i.length||i[0]===n[0]&&i.length!==n.length||!s)&&r[o]&&!n.slice(0,5).some(({id:e})=>e===o))return{feedItem:{id:o,type:"pin",trackingParams:n[0].trackingParams},pinId:o}}return null}})(),k=A?.length?A[0]:null;if(e&&e.display_data?.in_checklist_education&&e.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:k?.id&&(0,P.jsx)(ey.A,{storyId:k.id,children:e=>(0,P.jsx)(ej,{slotIndex:0,story:e,viewParameter:3833,viewType:604})})}},i=u.slice(1);return(0,P.jsx)(s.az,{"data-test-id":"homefeed",children:(0,P.jsx)(X.RM,{authHomefeedComponentDidUpdate:I,feedItemProps:r&&r(p),feedItems:i,feedItemsAdjustment:e,feedKey:t,pagination:{hasNext:!v,isLoadingNext:y,loadNext:()=>w(),refetch:()=>S()},pullToRefresh:n,trafficSource:eu.mA,visuallyCompleteProfilerOptions:j})})}return _&&!e?.display_data?(0,P.jsx)(s.az,{"data-test-id":"homefeed-ssr",children:(0,P.jsx)(X.Ir,{authHomefeedComponentDidUpdate:I,feedItemProps:r&&r(p),feedKey:eu.bg,pullToRefresh:n,resource:b,serverRender:!0,trafficSource:eu.mA,visuallyCompleteProfilerOptions:j})}):(0,P.jsx)(s.az,{"data-test-id":"homefeed",children:(0,P.jsx)(X.Ir,{authHomefeedComponentDidUpdate:I,feedItemProps:r&&r(p),feedKey:t,pullToRefresh:n,resource:b,trafficSource:eu.mA,visuallyCompleteProfilerOptions:j})})},eU=(0,ew.A)(()=>r.e("47577").then(r.bind(r,141568)),{ssr:!1},e=>141568,void 0,void 0),eW=(0,ew.A)(()=>r.e("52197").then(r.bind(r,536996)),{ssr:!1},e=>536996,void 0,void 0),eV=(0,ew.A)(()=>r.e("7761").then(r.bind(r,121691)),{ssr:!1},e=>121691,void 0,void 0),eY=(0,ew.A)(()=>r.e("41550").then(r.bind(r,572861)),{ssr:!1},e=>572861,void 0,void 0),e$=(0,ew.A)(()=>r.e("60770").then(r.bind(r,131865)),{ssr:!1},e=>131865,void 0,void 0),eJ=(0,ew.A)(()=>r.e("97657").then(r.bind(r,297472)),{ssr:!1},e=>297472,void 0,void 0);class eq extends i.PureComponent{constructor(...e){super(...e),eA(this,"state",{...(0,el.of)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:0,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1,showQRAppErrorBanner:!1}),eA(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t}=this.props,{extraPlpImages:r,extraBlpImages:n}=this.state,i=!t&&e&&504192===e.experience_id,a=i&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&i?(0,P.jsx)(c.A,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:a?(0,P.jsx)(eJ,{experience:e,extraImageInfo:r.length>0?r:n,viewParameter:92,viewType:1}):(0,P.jsx)(eY,{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t,navigate:r,location:n}=e;return(0,J.A)(n.search).show_qr_app_error?(r("/",{replace:!0}),{showQRAppErrorBanner:!0}):"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{dispatchViewedSharedPins:e,location:t,i18n:r,showToast:n,navigate:i}=this.props,{sharedPinData:a}=this.state;(0,ed.h)(!1),(0,d.A)(),a&&Object.keys(a).length>0&&e(a),t.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),t.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),t.state?.showError&&n(({hideToast:e})=>(0,P.jsx)(M.A,{duration:5e3,onHide:e,text:r._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- '),type:"error"})),(0,J.A)(t.search).show_yip_modal&&(i("/",{replace:!0}),this.setState({showYipModal:!0})),this.props.shouldRefreshHomefeed&&(0,Q.Y9)("homefeed")}render(){let{checkExperiment:e,currentUserId:t,currentUsername:r,everythingFeedExperience:n,navigate:a,i18n:o,isAuthenticated:l,isEligibleForCoreActionsHeader:d,isPartner:h,location:m,moreIdeasStory:f,newUserWelcomeStoryExperience:_,webMobileHomeFeedTakoverExperience:x,selectedTabBoardId:g,tabBoards:b,shouldRefreshHomefeed:v}=this.props,{currentTabIndex:y,showUnlinkTokenExpiredModal:w,showDeleteAccountSurveyModal:A,showYipModal:S,shouldDismissCoreActionsHeader:j,showQRAppErrorBanner:I}=this.state,k=(0,J.A)(m.search),E=k&&k.boardId||g;if(n&&!I)switch(n.experience_id){case 40002:case 10105:return(0,P.jsx)(c.A,{name:"SafeSuspense_HomePage_Nux",children:(0,P.jsx)(U.A,{fallback:(0,P.jsx)(W.A,{accessibilityLabel:this.props.i18n._('Loading new user education', 'Loading spinner', 'Loading spinner')}),children:h?(0,P.jsx)(eV,{experience:n}):(0,P.jsx)(eW,{experience:n})})});case 500681:return(0,P.jsx)(c.A,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,P.jsx)(eU,{fallback:(0,P.jsx)(W.A,{accessibilityLabel:this.props.i18n._('Loading experience', 'loading experience spinner', 'loading experience spinner')})})})}let z=l&&e("mweb_hf_core_actions_header").anyEnabled&&d,M=()=>{this.setState({shouldDismissCoreActionsHeader:!0})};return(0,P.jsx)(G.A,{viewParameter:92,viewType:1,children:(0,P.jsx)(Y.A,{view:1,viewParameter:92,children:(0,P.jsxs)(R.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[I&&(0,P.jsx)(s.az,{marginTop:4,children:(0,P.jsx)(eD,{})}),this.props.checkExperiment("ce_mweb_nux_shared_pin_banner").anyEnabled&&this.props.sessionSharedPinLandingInfo?.url&&this.props.sessionSharedPinLandingInfo?.inviter?(0,P.jsx)(eb,{inviter:this.props.sessionSharedPinLandingInfo.inviter,pinUrl:this.props.sessionSharedPinLandingInfo.url}):null,(0,P.jsx)(Z.A,{text:o._('Home', 'HomePage.HiddenAccessibilityHeader', 'Accessibility h1 at home page')}),!!b?.length&&(0,P.jsx)(O.default,{hideOnScroll:l,noPadding:!0,overrideTop:0,children:(0,P.jsx)(s.az,{paddingY:1,children:(0,P.jsx)(es,{currentTabIndex:y,tabBoards:b||[]})})}),f&&(0,P.jsx)(s.az,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,P.jsx)(ey.A,{storyId:f.id||"",children:e=>(0,P.jsx)(ej,{slotIndex:0,story:e,viewParameter:92,viewType:1},f.id)})}),0!==y&&E&&y<=(b?.length??0)&&(0,P.jsx)(eI,{boardId:E})||(0,P.jsxs)(i.Fragment,{children:[(0,P.jsx)(H,{experience:n}),(0,P.jsx)(p.Vj,{experience:n,placementId:40001}),(0,P.jsx)(p.nU,{placementId:40001}),(0,P.jsx)(p.aR,{experience:n,placementId:40001}),(0,P.jsx)(u.A,{placementId:n?.placement_id}),(0,P.jsx)(C.A,{placementId:1000544}),(0,P.jsx)(T.A,{placementId:1000558}),(0,P.jsx)(p.Je,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:n,children:(0,P.jsx)(U.A,{children:(0,P.jsx)(eM,{experience:n})})}),n&&(0,P.jsx)(p.Je,{eligibleIds:[507483],experience:n,children:({dismiss:e,experience:{display_data:t}})=>{let r=!("is_blocking"in t)||t.is_blocking;return(0,P.jsx)(eE,{container:"HomePage",dismiss:e,isBlockingModal:r})}}),n&&(0,P.jsx)(p.Je,{eligibleIds:[507661],experience:n,children:({dismiss:e,experience:{display_data:t}})=>(0,P.jsx)(ez,{container:"HomePage",displayData:t,onDismiss:e})}),n&&(0,P.jsx)(p.Je,{eligibleIds:[507924],experience:n,children:({complete:e,dismiss:t})=>(0,P.jsx)(eH,{onComplete:e,onDismiss:t})}),n&&(0,P.jsx)(p.Je,{eligibleIds:[508387],experience:n,placementId:40001,children:({complete:e,dismiss:t,experience:r})=>(0,P.jsx)(eT,{complete:e,dismiss:t,experience:r})}),n&&(0,P.jsx)(p.Je,{eligibleIds:[505326],experience:n,children:({complete:e,dismiss:t})=>(0,P.jsx)(i.Suspense,{children:(0,P.jsx)(eR,{complete:e,dismiss:t})})}),n&&(0,P.jsx)(p.Je,{eligibleIds:[505801],experience:n,children:({complete:e})=>(0,P.jsx)(i.Suspense,{children:(0,P.jsx)(eO,{complete:e})})}),_?.display_data?.story&&_.display_data.showUpdatedLandingPageStory&&(0,P.jsx)(ek,{isMoreIdeasTabsVisible:!!b?.length,newUserWelcomeStoryExperience:_}),(0,P.jsxs)(s.az,{marginTop:2*(!b?.length&&!f),children:[!j&&z&&(0,P.jsx)(eS,{onDismiss:M,username:r||""}),(0,P.jsx)(eB,{webMobileHomeFeedTakoverExperience:x})]})]}),w&&(0,P.jsx)(U.A,{children:(0,P.jsx)(s.az,{"data-test-id":"unlink-expired-token",children:(0,P.jsx)(eL,{onDismiss:()=>{a("/",{replace:!0}),this.setState({showUnlinkTokenExpiredModal:!1})}})})}),A&&(0,P.jsx)(U.A,{children:(0,P.jsx)(eC,{isPartner:h,onDismiss:()=>{a("/",{replace:!0}),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:r})}),S&&(0,P.jsx)(c.A,{name:"YearInPreviewConfirmPublishModal",children:(0,P.jsx)(e$,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),this.renderOptInInterestPicker(),0===y&&n&&(0,P.jsx)(p.Je,{eligibleIds:[508418],experience:n,children:()=>v?(0,P.jsx)(ev,{}):(0,P.jsx)(eP,{hasTabBoards:(b?.length??0)>0})})]})})})}}let eG=[];function eK(){(0,i.useEffect)(()=>{(0,n.A)("HomePage","/app/www/pages/duplo/HomePage.tsx")},[]);let e=(0,A.A)(),t=(0,a.wA)(),r=(0,L.A)(),{showToast:s}=(0,$.CG)(),l=(0,o.Zp)(),d=(0,o.zy)(),{checkExperiment:c}=(0,F.A)(),{shouldRefreshHomefeed:u,clearRefreshFlag:h}=(0,ep.d)(),{experience:m}=(0,p.Rf)(40001),{experience:f}=(0,p.Rf)(1000115),{experience:_}=(0,p.Rf)(1000411),x=(0,a.d4)(({feeds:e})=>e.homefeed),g=(0,a.d4)(({homefeedTabUI:e})=>e.activeTabBoardId),b=(0,a.d4)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:v,isLimitedLogin:y}=r,w=(0,a.d4)(({session:e})=>e.firstHomeFeedRequestAfterNux),S=(0,a.d4)(({session:e})=>e.sharedPinLandingInfo??null),j=r.isAuth?r.id:void 0,I=r.isAuth?r.username:void 0,k=!!r.isAuth&&r.isPartner,E=(0,q.qJ)(),z=Array.isArray(x)?x:[],H=!E&&z[0]&&"story"===z[0].type?z[0]:null,T=(0,a.d4)(({stories:e})=>H?e[H.id]:null),C=T&&T.story_type&&T.story_type.startsWith("boards_more_ideas_feed_upsell")?T:null,M=z.find(({type:e})=>"home_feed_tabs"===e)?.tabs,{data:O}=(0,B.A)(v&&c("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:r.id,field_set_key:"core_actions_header"}}:null),R=(0,q.M)();(0,D.A)(d,s,e);let N={checkExperiment:c,currentUserId:j,currentUsername:I,dispatchViewedSharedPins:e=>t({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),everythingFeedExperience:m,navigate:l,i18n:e,isAuthenticated:v,isEligibleForCoreActionsHeader:O?.is_eligible_for_core_actions_header,isLimitedLogin:y,isMobile:R,isPartner:k,location:d,moreIdeasStory:C,newUserWelcomeStoryExperience:_,selectedTabBoardId:g,selectedTabIndex:b,showToast:s,tabBoards:M??eG,webMobileHomeFeedTakoverExperience:f,shouldRefreshHomefeed:u,clearRefreshFlag:h,inNux:w,sessionSharedPinLandingInfo:S};return(0,P.jsx)(eq,{...N})}},45051(e,t,r){r.d(t,{Vf:()=>s,bg:()=>i,jC:()=>o,ks:()=>l,mA:()=>a});var n=r(71897);let i="homefeed",a="feed_home",o="UserHomefeedResource",s={field_set_key:"mobile_grid_item",prepend:!1},l=(0,n.A)(s)},902602(e,t,r){r.d(t,{Y:()=>n});let n=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},276346(e,t,r){r.d(t,{A:()=>n});function n(e,t){return{type:"SET_SHARED_PIN_LANDING_INFO",payload:{url:e,inviter:t}}}},474464(e,t,r){r.d(t,{AD:()=>m,X2:()=>p,e6:()=>d,sN:()=>c,x2:()=>u});var n=r(867076),i=r(752411),a=r(319029);function o(e,t,r,i){return n.A.create("UserFollowResource",{user_id:e,invite_code:i||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:r})}let s=(e,t,r,n)=>{let i=t().session?.userId;e((0,a.pV)(r,n)),i&&e((0,a.yX)(i,n))},l=(e,t,r,n)=>{s(e,t,r,!n)};function d(e,t=null,r,n){return(i,a)=>{s(i,a,e,!0),o(e,t,r,n).callCreate().catch(()=>{l(i,a,e,!0)})}}function c(e,t=null,r,n){return async(i,a)=>{s(i,a,e,!0),await o(e,t,r,n).callCreate().catch(t=>{throw l(i,a,e,!0),t})}}function p(e,t=null,r){return(n,i)=>{s(n,i,e,!1),o(e,t,r).callDelete().catch(()=>{l(n,i,e,!1)})}}function u(e,t=null,r){return async(n,i)=>{s(n,i,e,!1),await o(e,t,r).callDelete().catch(t=>{throw l(n,i,e,!1),t})}}let h=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),m=e=>t=>{e.length>0&&((0,i.A)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e}}).catch(()=>t(h(e,!1))),t(h(e,!0)))}},319029(e,t,r){r.d(t,{Bt:()=>c,Fq:()=>u,LR:()=>a,Wi:()=>h,oH:()=>p,om:()=>d,pV:()=>o,yX:()=>s});var n=r(752411),i=r(178534);function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:r,blockContext:i,logContextEvent:a})=>async o=>{o(l(e,!0));let s=await (0,n.A)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"PUT",data:{orbac_subject_id:t,block_source:r,block_context:i}}).catch(()=>o(l(e,!1)));return a({event_type:54,object_id_str:e}),s},c=(e,t)=>async r=>{r(l(e,!1));let i=await (0,n.A)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"DELETE"}).catch(()=>r(l(e,!0)));return t({event_type:55,object_id_str:e}),i};function p(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let u=(e,t)=>()=>(0,n.A)({url:"/v3/users/state/{state}/",urlParams:{state:e},method:"PUT",data:{value:t}}),h=(e,t,r)=>(a,o)=>{(0,n.A)({url:"/v3/users/me/",method:"POST"}).then(()=>{r({event_type:48,object_id_str:o().session.userId}),e(),(0,i.A)()},t)}},350142(e,t,r){r.d(t,{A:()=>i});var n=r(106386);function i({children:e,storyId:t}){let r=(0,n.d4)(({stories:e})=>e[t]);return r&&e(r)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/96673-e6b92e195f5964c2.mjs.map