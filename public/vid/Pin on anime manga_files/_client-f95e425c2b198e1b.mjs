(self.modernJsonp=self.modernJsonp||[]).push([["54464"],{763041(e,t,r){r.d(t,{A:()=>l});var n,i,o=r(315075),a=r(542637),s=0,d=0;let l=function(e,t,r){var l=t&&r||0,c=t||Array(16),u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==p){var _=e.random||(e.rng||o.A)();null==u&&(u=n=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==p&&(p=i=(_[6]<<8|_[7])&16383)}var A=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:d+1,f=A-s+(m-d)/1e4;if(f<0&&void 0===e.clockseq&&(p=p+1&16383),(f<0||A>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=A,d=m,i=p;var E=((0xfffffff&(A+=122192928e5))*1e4+m)%0x100000000;c[l++]=E>>>24&255,c[l++]=E>>>16&255,c[l++]=E>>>8&255,c[l++]=255&E;var g=A/0x100000000*1e4&0xfffffff;c[l++]=g>>>8&255,c[l++]=255&g,c[l++]=g>>>24&15|16,c[l++]=g>>>16&255,c[l++]=p>>>8|128,c[l++]=255&p;for(var y=0;y<6;++y)c[l+y]=u[y];return t||(0,a.A)(c)}},776748(e,t,r){r.r(t),r.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHyperlinkExperiment_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="bdd5959de70eab688d40f2293a76638c";let i=n},758576(e,t,r){r.d(t,{A:()=>n});let n=({inNux:e,inNewsHub:t,staticFeed:r,viewerIsPartner:n})=>({field_set_key:n?"hf_grid_partner":"hf_grid",in_nux:e,in_news_hub:t,static_feed:r})},591559(e,t,r){r.d(t,{A:()=>l}),r(825193);var n,i=r(816858),o=r(805454),a=r(467780),s=r(991224);let d=(void 0!==n||(n=r(776748)).hash&&"bdd5959de70eab688d40f2293a76638c"!==n.hash&&console.error("The definition of 'useHyperlinkExperiment_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function l(e,t=!1){let r=(0,i.A)(d,e),n=!!(r?.descriptionLinks&&r.descriptionLinks.length>0),c=t||!n,{isAuthenticated:u}=(0,a._8)(),p=(0,s.qJ)(),_=(0,s.M)(),{checkExperiment:A}=(0,o.A)(),m=u&&p&&A("dweb_closeup_hyperlink_keywords",{dangerouslySkipActivation:c}).anyEnabled,f=u&&_&&A("mweb_closeup_hyperlink_keywords_auth",{dangerouslySkipActivation:c}).anyEnabled;return{hyperlinkKeywordsEnabled:m||f}}},753185(e,t,r){r.d(t,{U:()=>s,f:()=>d});var n=r(859471),i=r(4513),o=r(562615);let{Provider:a,get:s}=(0,i.A)("VisualShopContext");function d({children:e}){let[t,r]=(0,n.useState)({}),[i,s]=(0,n.useState)({}),d=(0,n.useRef)(0),l=(0,n.useRef)("");return(0,o.jsx)(a,{value:{cachedOneBarModules:t,setCachedOneBarModules:r,cachedDescriptorModules:i,setCachedDescriptorModules:s,imageContainerScrollTop:d,imageContainerScrollTopForPinId:l},children:e})}},350762(e,t,r){r.d(t,{A:()=>i,_:()=>n});let n=e=>e.replace(/\s+/g,"-"),i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,VIDEO_IFRAME_ID:"video-iframe"}},101370(e,t,r){r.d(t,{A:()=>o});var n=r(379599),i=r(425347);function o(e,t,r,o,a){let s=new URLSearchParams,d=t.reduce((e,t)=>{if(null!=t){let r=function(e){let t;try{t=decodeURIComponent(e)}catch(r){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let r=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(r&&r.length>1)return r[1];return e}}(t);return e.add(r)}return e},new Set);s.append(n.YH.SOURCE_EVENT_ID,e??"0"),s.append(n.YH.DESTINATION,JSON.stringify([...d])),s.append(n.YH.EXPIRY,r?"604800":"86400"),s.append(n.YH.PRIORITY,r?n.YH.CLICK_PRIORITY:n.YH.VIEW_PRIORITY),a&&s.append(n.YH.ADVERTISER_ID,a),o&&s.append(n.YH.CAMPAIGN_ID,o),s.append(n.YH.SOURCE_EVENT_TYPE,r?"click":"view");try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&s.append(n.YH.HOSTNAME,e)}catch(e){(0,i.GV)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+s.toString()}},594686(e,t,r){r.d(t,{H8:()=>a,Ss:()=>n,UP:()=>d,gm:()=>s,lT:()=>l,lh:()=>i,nr:()=>o});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function o(e){return i(e)===n.SAFARI}function a(e){return i(e)===n.CHROME}function s(e){return i(e)===n.FIREFOX}function d(e){return i(e)===n.EDGE}function l(e){return i(e)===n.IE}},903989(e,t,r){r.d(t,{BB:()=>h,HG:()=>E,If:()=>R,L_:()=>f,ML:()=>b,Qe:()=>g,Uz:()=>I,XS:()=>y,ZB:()=>T,dE:()=>_,mt:()=>p,t0:()=>A,xc:()=>m});var n=r(550247),i=r(18841),o=r(328715),a=r(351933),s=r(792307),d=r(395394),l=r(785896),c=r(425347);function u(e){return"local"===e?(0,s.y1)():(0,d.V2)()}let p=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.Ic;return(t.getItem(n.rt)||i.Ic).map(e=>({...e,path:(0,a.A)(e.path)}))}catch(e){return(0,c.GV)("current_user_tracker.storage.get_visited_pages.error"),i.Ic}},_=(e,t,r="local")=>{try{let i=u(r);if(!i.accessAllowed)return;let s=(0,a.A)(e),d=[...p(r)],l=(0,o.Tb)(d,s,t,100);l!==d&&i.setItem(n.rt,l)}catch(e){(0,c.GV)("current_user_tracker.storage.add_visited_page.error")}},A=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.xg;return t.getItem(n.sO)||i.xg}catch(e){return(0,c.GV)("current_user_tracker.storage.get_completed_searches.error"),i.xg}},m=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;let i=[...A(t)],a=(0,o.X5)(i,e,100);a!==i&&r.setItem(n.sO,a)}catch(e){(0,c.GV)("current_user_tracker.storage.add_completed_search.error")}},f=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;let i=[...A(t)],a=(0,o.JF)(i,e);r.setItem(n.sO,a)}catch(e){(0,c.GV)("current_user_tracker.storage.remove_completed_search.error")}},E=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.vC;return t.getItem(n.S3)||i.vC}catch(e){return(0,c.GV)("current_user_tracker.storage.get_clickthrough_pins.error"),i.vC}},g=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;let i=[...E(t)],a=(0,o.Yy)(i,e,100);a!==i&&r.setItem(n.S3,a)}catch(e){(0,c.GV)("current_user_tracker.storage.add_clickthrough_pin.error")}},y=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return 0;return parseInt(t.getItem(n.kL)||String(0),10)}catch(e){return(0,c.GV)("current_user_tracker.storage.get_download_count.error"),0}},R=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;r.setItem(n.kL,e.toString())}catch(e){(0,c.GV)("current_user_tracker.storage.set_download_count.error")}},h=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return i.BP;return t.getItem(n.KW)??i.BP}catch(e){return(0,c.GV)("current_user_tracker.storage.get_saved_pins.error"),i.BP}},I=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;r.setItem(n.KW,e)}catch(e){(0,c.GV)("current_user_tracker.storage.set_saved_pins.error")}},T=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return(0,i.Cj)();let{ts:r,sessionTimestamps:o}=t.getItem(n.hc)??{};if("number"==typeof r&&Array.isArray(o)&&o.length>0&&o.every(e=>"number"==typeof e))return{ts:r,sessionTimestamps:o};return(0,i.Cj)()}catch(e){return(0,c.GV)("current_user_tracker.storage.get_revisitation.error"),(0,i.Cj)()}},b=(e,t="local")=>{try{let r=u(t);if(!r.accessAllowed)return;r.setItem(n.hc,(0,l.A)(e))}catch(e){(0,c.GV)("current_user_tracker.storage.set_revisitation.error")}}},328715(e,t,r){r.d(t,{JF:()=>l,Tb:()=>a,X5:()=>s,Yy:()=>d});var n=r(351933),i=r(785896);let o=(e,t,r)=>{let n=[t,...e];return n.length>r?n.slice(0,r):n},a=(e,t,r,a)=>{let s,d,l,c=(0,n.A)(t);return(s=e.length,d=(0,n.A)(c),l=s?(0,n.A)(e[0].path):"",s&&d===l)?e:o(e,(0,i.A)({path:c,pageType:r}),a)},s=(e,t,r)=>{var n;let a,s;return(n=t.query,s=(a=e.length)?e[0].query:"",a&&n===s)?e:o(e,(0,i.A)(t),r)},d=(e,t,r)=>{var n;let a,s;return(n=t.pinId,s=(a=e.length)?e[0].pinId:"",a&&n===s)?e:o(e,(0,i.A)(t),r)},l=(e,t)=>e.filter(e=>e.query!==t)},351933(e,t,r){r.d(t,{A:()=>i});var n=r(427824);function i(e){let t=(0,n.A)(e);return t?`/pin/${t}/`:e}},219233(e,t,r){r.d(t,{Bh:()=>a,Bw:()=>n,Mm:()=>i,R2:()=>s,rQ:()=>o});let n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),o=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),s=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},547154(e,t,r){r.d(t,{C:()=>a,e:()=>o});var n=r(859471);let i=(0,n.createContext)(null),o=i,a=()=>(0,n.use)(i)},812718(e,t,r){r.d(t,{A:()=>a});var n=r(219233),i=r(370714),o=r(41927);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:r}=(0,o.x)(),a=(0,i.A)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),r?.setText(t?.loginModalHeader||(0,n.Bw)(a))}}},710281(e,t,r){r.d(t,{XC:()=>o,Z9:()=>i,a0:()=>n});let n=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,i=e=>window.innerHeight>=748&&n(e),o=()=>!("u"<typeof window)&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},142071(e,t,r){r.d(t,{A:()=>a});var n=r(216096),i=r(60764),o=r(391309);function a(e,t){let r=Math.round(1e3*Math.random())+"",a=Math.round(1e3*Math.random())+"";i.hZ((0,n.lH)(r),a);let s={token:`${r}-${a}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,o.A)(s)}`}},673599(e,t,r){r.d(t,{A:()=>a});var n=r(559463),i=r(71897),o=r(263918);let a=async({clientTrackingParams:e,href:t,pinId:r,spamCheckCallback:a})=>{let s=await function({url:e,urlParams:t,method:r,data:a,ignoreBookmark:s,callOptions:d,headers:l}){let c=e;return t&&Object.entries(t).forEach(([e,t])=>{let r=`{${e}}`;c.includes(r)&&(c=c.replaceAll(r,encodeURIComponent(String(t))))}),function(e){let t=(0,i.A)(e),r=o.$K.get("ApiResource",t);if(r)return r;let a=(0,n.A)(e);return o.$K.add("ApiResource",t,a),a}({url:c,method:r,data:a,ignoreBookmark:s,callOptions:d,headers:l})}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e??void 0,pin_id:r,url:t}});if(!s.resource_response.error){let{message:e,redirect_status:t,url:r}=s.resource_response.data||{};a({blocked:["blocked","suspicious","porn"].includes(t??""),message:e??"",redirectStatus:t??"",sanitized_url:r??""})}}},435844(e,t,r){r.d(t,{A:()=>n});function n({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},951786(e,t,r){r.d(t,{A:()=>d});var n=r(754927),i=r(580688),o=r(481074),a=r(780576),s=r(728348);let d=({event:e,onHistoryChange:t,href:r,location:d,navigate:l,target:c})=>{let u=(0,i.A)(r),p=("string"!=typeof r&&r?r.state:null)??{},_=(0,o.A)(u);_===s.A.TRUSTED_DIFFERENT_ORIGIN||"blank"===c?(0,n.A)(u,"blank"===c):l&&_===s.A.SAME_ORIGIN&&(l((0,a.A)({url:u}),{state:{from:d,...p}}),t&&t({event:e}))}},769294(e,t,r){r.d(t,{A:()=>o});var n=r(754927),i=r(142071);function o(e,t){(0,n.A)((0,i.A)(e,t),!0,t?.features)}},233830(e,t,r){r.d(t,{A:()=>i});var n=r(65197);function i({location:e,pinId:t,surface:r}){return!!r&&!n.Wv.includes(r)||e.pathname.includes(t)}},18221(e,t,r){r.d(t,{A:()=>m});var n=r(859471),i=r(979638),o=r(591559),a=r(673599),s=r(435844),d=r(951786),l=r(233830),c=r(599850),u=r(580688),p=r(954408),_=r(9295),A=r(425347);function m(e){let{clientTrackingParams:t,externalData:r,href:m,onHistoryChange:f,target:E}=e,[g,y]=(0,n.useState)(null),R=(0,i.Zp)(),h=(0,i.zy)(),I=(0,u.A)(m),T=(0,p.A)({url:I}),{showWarning:b}=(0,_.F)()??{},{pin:S,surface:O}=r||{},{hyperlinkKeywordsEnabled:P}=(0,o.A)(null,!0),v=t||S?.trackingParams,D=(0,c.A)();return(0,n.useEffect)(()=>{T&&S&&null===g&&(!S.promoter||S.isDownstreamPromotion)&&(0,l.A)({location:h,pinId:S.entityId,surface:O})&&(0,a.A)({clientTrackingParams:v,pinId:S.entityId,spamCheckCallback:e=>y(e),href:I})},[v,S,O,I,T,h,g]),({event:e})=>{if(!(0,s.A)({isOffsiteUrl:T,event:e})){if(P&&"string"==typeof m&&m.startsWith("pinterest://")){let t=m.replace(/^pinterest:\/\//,"/");(0,d.A)({event:e,href:t,location:h,navigate:R,onHistoryChange:f,target:"blank"===E?"blank":null});return}if(e.preventDefault(),!m||"string"==typeof m&&m.startsWith("#"))return void(0,A.GV)("link_navigation_empty_href",{sampleRate:1,tags:{route:h.pathname,href:m}});T||r?.dangerouslyForceOffsiteUrl?D({auxData:r?.auxData,clientTrackingParams:v,pin:r?.pin&&{attributionSourceId:r.pin.attributionSourceId,campaignId:r.pin.campaignId,isPromoted:r.pin.isPromoted,pinPromotionId:r.pin.pinPromotionId,isThirdPartyAd:r.pin.isThirdPartyAd,advertiserId:r.pin.advertiserId,destinationUrl:r.pin.destinationUrl,link:r.pin.link,domain:r.pin.domain},pinId:r?.pin?.entityId,queryParams:r?.queryParams,showWarning:b,spamCheck:g,url:I}):(0,d.A)({event:e,href:m,location:h,navigate:R,onHistoryChange:f,target:"blank"===E?"blank":null})}}}},599850(e,t,r){r.d(t,{A:()=>p});var n=r(952980),i=r(379599),o=r(101370),a=r(594686),s=r(754927),d=r(186122),l=r(142071),c=r(769294),u=r(706430);let p=e=>{let t=(()=>{let{logContextEvent:e}=(0,d.o)();return({attributionSourceId:t,auxData:r,campaignId:s,clientTrackingParams:d,href:c,isPromoted:u,pinId:p,pinPromotionId:_,isThirdPartyAd:A,advertiserId:m,destinationUrl:f,link:E,domain:g})=>{var y,R;if(!u)return!1;let h=(0,n.A)(),I={params:{pinId:p,csrId:null,clientTrackingParams:d,auxData:r,isThirdPartyAd:A}},T=(0,l.A)(c,I);h?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&u&&c===f&&(fetch((0,l.A)(f,I),{redirect:"manual"}),T=f);let b=h?.userAgent.browserName??"",S=h?.experimentsClient.checkExperiment("aid_exp_ara_shutdown_source_registration").anyEnabled;if((0,a.nr)(b)){let r=h?.userAgent.browserVersion?h.userAgent.browserVersion:"0.0",n=parseFloat(r.split(".")[0]+"."+r.split(".")[1]);if(t&&n>=14.1){let r;return y=T,(r=document.createElement("a")).setAttribute("href",y),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(i.Yv.ATTRIBUTION_SOURCE_ID,t),r.setAttribute(i.Yv.ATTRIBUTE_DESTINATION,c),r.setAttribute(i.Yv.ATTRIBUTE_ON,c),r.click(),e({event_type:101,clientTrackingParams:d,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:_||"",click_measurement_campaign_id:s||"",is_pcm:!0,attribution_source_id:t,page_url:c}}),!0}}else if((0,a.H8)(b)&&!S&&window.document.featurePolicy?.allowsFeature("attribution-reporting")){let r,n;return R=T,r=(0,o.A)(t,[f,E,g],!0,s,m),(n=document.createElement("a")).setAttribute("href",R),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(i.YH.SOURCE,r),n.click(),e({event_type:101,clientTrackingParams:d,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:_||"",click_measurement_campaign_id:s||"",is_arapi:!0,attribution_source_id:t,page_url:c}}),!0}return!1}})();return({auxData:r,clientTrackingParams:i,pin:o,pinId:a,queryParams:d,showWarning:p,spamCheck:_,url:A})=>{if("u">typeof window&&window.Windows)return void(0,u.A)(A,{clientTrackingParams:i,pinId:a,hasPin:!!o,auxData:r,isThirdPartyAd:o?.isThirdPartyAd});if(!o&&!e?.isFromClickthroughLink)return void(0,c.A)(A,d?{queryParams:d}:{params:{pinId:a}});if(_?.blocked)return void p?.(_);if(o&&t({attributionSourceId:o.attributionSourceId,auxData:r,campaignId:o.campaignId?String(o.campaignId):null,clientTrackingParams:i,href:A,isPromoted:o.isPromoted,pinId:a,pinPromotionId:o.pinPromotionId?String(o.pinPromotionId):null,isThirdPartyAd:o.isThirdPartyAd,advertiserId:o.advertiserId?o.advertiserId:null,destinationUrl:o.destinationUrl,link:o.link,domain:o.domain}))return;let m={params:{clientTrackingParams:i,auxData:r,pinId:a,isThirdPartyAd:o?.isThirdPartyAd}},f=(0,n.A)();if(f?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&o?.isPromoted&&A===o?.destinationUrl){fetch((0,l.A)(A,m),{redirect:"manual"}),(0,s.A)(A,!0);return}(0,c.A)(A,m)}}},739790(e,t,r){r.d(t,{A:()=>i});var n=r(425347);function i(e,t){return new Promise((r,i)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)r();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),r()):(e+=1,(0,n.GV)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)r();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),r()):(e+=1,(0,n.GV)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else r()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>r()),t.addEventListener("error",i),document.getElementsByTagName("head")[0].appendChild(t)}})}},283988(e,t,r){r.d(t,{P:()=>n});let n="favorited"},854041(e,t,r){r.d(t,{A:()=>n});let n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},476212(e,t,r){r.d(t,{A:()=>n});function n(e,t,r,i=0){if(-1===t||-1===r||t===r)return e;let o=r+i,a=t+i;if(o<0||o>=e.length||a<0||a>=e.length)return e;let s=[...e],d=s[a],l=a<o?1:-1;for(let t=a;t!==o;t+=l)s[t]=e[t+l];return s[o]=d,s}},88896(e,t,r){r.d(t,{A:()=>n});function n(e){let t;if(!e)return null;let r=e?.url;return Array.isArray(e?.params)?t=e?.params:Object.entries(t={...e?.params??{}}).forEach(([e,n])=>{r?.includes(`{${e}}`)&&(r=r?.replaceAll(`{${e}}`,String(n)),delete t[e])}),{name:"ApiResource",options:{url:r,data:t,...e?.method==="POST"?{postInsteadOfGet:!0}:{}},enabledRouteRefresh:e?.enabledRouteRefresh,headers:e?.headers,noCache:e?.noCache,schema:e?.schema}}},661494(e,t,r){r.d(t,{A:()=>o});var n=r(88896),i=r(799632);function o(e){return(0,i.A)((0,n.A)(e))}},156547(e,t,r){r.d(t,{A:()=>o});var n=r(332619),i=r(558584);function o(e){let{enabledRouteRefresh:t,headers:r,name:o,noCache:a,options:s,schema:d}=e??{name:n.W,options:null},l=!e,{fetchResource:c,ref:u,fetchMore:p,isFetching:_,isLoaded:A,isRefreshing:m,refresh:f}=(0,i.A)({enabledRouteRefresh:t,headers:r,name:o,noCache:a,options:s,schema:d},l,!1);return l||c(),{ref:u,fetchMore:p,isFetching:_,isLoaded:A,isRefreshing:m,refresh:f}}},388877(e,t,r){r.d(t,{I:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},868141(e,t,r){r.d(t,{E:()=>o,Y:()=>a});var n=r(859471);let i=(0,n.createContext)(null),o=()=>(0,n.use)(i),a=i},347287(e,t,r){r.d(t,{A:()=>n});function n(e,t=80,r="â€¦",i=!1){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)o=e.substring(0,t);else{let r=e.lastIndexOf(" ",t);o=e.substring(0,r)}return(o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},98681(e,t,r){r.d(t,{A:()=>s,w:()=>a});var n=r(679902),i=r(763041);function o(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let a="u">typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),s=class{constructor(e){o(this,"start",()=>(this.startTime=a(),this.startTime)),o(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.A)()}catch(e){this.uuid=(0,i.A)()}e&&Object.assign(this,e)}}},822164(e,t,r){r.d(t,{A:()=>d});var n=r(859471),i=r(979638),o=r(424054),a=r(301248),s=r(3210);function d(){let e=(0,i.zy)();return(0,n.useCallback)(({action:t,item:r,within:n,tags:i={}})=>{let d=(0,o.dM)(e)?"pin":(0,o.iK)(e)?"board":(0,o.BG)(e)?"login":(0,o.fF)(e)?"home":(0,a.A)(e)?"profile":(0,o.Jw)(e)?"ideas":(0,o.nV)(e)?"ideas-root":(0,o.os)(e)?"videos":(0,o._N)(e)?"videos-category":(0,o.L0)(e)?"article":(0,o.GA)(e)?"shopping-spotlight":(0,o.H9)(e)?"today":(0,o.uD)(e)?"unauth-profile":(0,o.a$)(e)?"shopping-root":(0,o.kU)(e)?"shopping-category":"other";(0,s.PM)(`logged_out_product.interaction.${d}.${t}`,{item:r||"none",within:n||"none",...i})},[e])}},993641(e,t,r){r.d(t,{A:()=>s});var n=r(859471),i=r(106386),o=r(383965),a=r(805454);let s=()=>{let e=(0,i.wA)(),{checkExperiment:t}=(0,a.A)(),r=(0,i.d4)(e=>e.currentUserTracker);return(0,n.useCallback)(n=>{let i={...r,pinImpressionCount:(0,o.oO)()};"function"==typeof n?e(n({checkExperiment:t,currentUserTracker:i})):e({...n,payload:{..."payload"in n?n.payload:{},checkExperiment:t,currentUserTracker:i}})},[e,t,r])}},580688(e,t,r){r.d(t,{A:()=>n});let n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},780576(e,t,r){r.d(t,{A:()=>i});var n=r(81270);let i=({url:e})=>{let t=(0,n.A)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},514321(e,t,r){r.d(t,{A:()=>o});var n=r(106910),i=r(132946);let o=(e,t)=>{if(0===t.length)return e;let[r,o]=e.split("?"),a=Object.entries((0,i.A)(o)).filter(([e])=>!t.includes(e)).reduce((e,[t,r])=>({...e,[t]:r}),{});return(0,n.A)(r,a)}},19991(e,t,r){r.d(t,{A:()=>s});var n=r(859471);let i=()=>()=>{},o=()=>!1,a=()=>!0,s=()=>(0,n.useSyncExternalStore)(i,o,a)},817534(e,t,r){r.d(t,{G:()=>n,o:()=>i});let n=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),i=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},706430(e,t,r){r.d(t,{A:()=>o});var n=r(752411),i=r(769294);function o(e,t){let{auxData:r,clientTrackingParams:o,hasPin:a,pinId:s,isThirdPartyAd:d}=t||{},l={pin_id:s||void 0,check_only:!0,client_tracking_params:a&&o||void 0,url:e,aux_data:JSON.stringify(r)};d&&(l.third_party_ad=s||void 0,delete l.pin_id),(0,n.A)({url:"/v3/offsite/",data:l}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:r,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(r||"")){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(n||"");window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,i.A)(e,{params:a?{pinId:s,clientTrackingParams:o,auxData:r,isThirdPartyAd:d}:{pinId:s}})})}},649091(e,t,r){r.d(t,{C1:()=>s,kb:()=>d,zP:()=>l});var n=r(859471),i=r(4513),o=r(562615);let{Provider:a,get:s,getMaybe:d}=(0,i.A)("MostRecentPin");function l({children:e}){let[t,r]=(0,n.useState)(),[i,s]=(0,n.useState)(),[d,l]=(0,n.useState)(),[c,u]=(0,n.useState)(),p=(0,n.useCallback)(e=>{s([e].concat((i?i.slice(0,10):[]).filter(t=>t!==e)))},[i]),_=(0,n.useMemo)(()=>({id:t,plpImageSignatures:i,currentlyViewingPinId:d,lastVisitedPinId:c,setMostRecentPinId:r,setMostRecentPinImage:p,setCurrentlyViewingPinId:l,setLastVisitedPinId:u}),[t,i,d,c,p]);return(0,o.jsx)(a,{value:_,children:e})}},171107(e,t,r){r.d(t,{N:()=>a,z:()=>s});var n=r(859471),i=r(562615);let o=(0,n.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),a=()=>(0,n.use)(o);function s({children:e}){let[t,r]=(0,n.useState)(Object.freeze({})),a=(0,n.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:n})=>r({...t,[e]:n})}),[t]);return(0,i.jsx)(o,{value:a,children:e})}},9295(e,t,r){r.d(t,{F:()=>i,K:()=>n});let{Provider:n,getMaybe:i}=(0,r(4513).A)("SpammyClickthrough")},996419(e,t,r){r.d(t,{A:()=>a});var n=r(805454),i=r(467780),o=r(991224);let a=({skipExpActivation:e=!1})=>{let{checkExperiment:t}=(0,n.A)(),r=(0,o.qJ)(),{isBot:a,isAuthenticated:s}=(0,i._8)();return!s&&!!r&&r&&!a&&t("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:e}).anyEnabled}},785896(e,t,r){r.d(t,{A:()=>n});let n=function(e){return{...e,ts:Date.now()}}},41927(e,t,r){r.d(t,{e:()=>n,x:()=>i});let{Provider:n,get:i}=(0,r(4513).A)("LimitedLogin")},431957(e,t,r){r.d(t,{A:()=>n});let n={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},875571(e,t,r){r.d(t,{$:()=>m,A:()=>y});var n=r(261530),i=r(476212),o=r(245789),a=r(131032),s=r(807983),d=r(104953),l=r(924735),c=r(431957);let u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>e?.url==="/v3/orientation/nux_creator_recommendations/"?"nux-creator-recommendations":e?.url==="/v3/users/me/interests/"?`recommended-interests:${e.data?.blend_type}`:e?.url===`/v3/usecases/${e.data?.use_case_id}/feed/`?"useCaseFeed":e?.url===`/v3/boards/${e.data?.board_id}/automagical/pins/`?`automagical-board-feed:${e.data?.board_id}`:e?.url===`/v3/aggregated_pin_data/${e.data?.aggregated_pin_data}/comments/`?`aggregated-comments:${e.data?.aggregated_pin_data}`:e?.url==="/v3/users/me/boards/archived/"?"archived-boards":"",AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentReplyFeedResource:e=>`${c.A.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItUserFeedResource:e=>`profile-tried:${e.username}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>`search:${(0,a.n1)(e)}`,BaseSearchResource:e=>`search:${(0,a.n1)(e)}`,SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},_={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:c.A.TRIED_IT_FEED,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?c.A.AGGREGATED_COMMENT_REPLIES:c.A.AGGREGATED_COMMENTS,id:t,reversed:!0}),ApiResource:({options:{url:e,data:t}})=>e===`/v3/usecases/${t?.use_case_id}/feed/`?{type:c.A.USE_CASE_TAB,id:t.use_case_id}:e===`/v3/boards/${t?.board_id}/automagical/pins/`?{type:c.A.AUTOMAGICAL_BOARD_FEED,id:t.board_id}:e===`/v3/aggregated_comments/${t.aggregated_comment}/replies/`?{type:t.isUnifiedComment?c.A.AGGREGATED_COMMENT_REPLIES:c.A.AGGREGATED_COMMENTS,id:t.aggregated_comment,reversed:!0}:e===`/v3/aggregated_pin_data/${t?.aggregated_pin_data}/comments/`?{type:c.A.AGGREGATED_COMMENTS,id:t.aggregated_pin_data}:null,BoardFeedResource:({options:{board_id:e}})=>({type:c.A.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:c.A.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:c.A.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:c.A.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t,filter_types:r}})=>({type:c.A.PROFILE_BOARDS,id:(0,s.A)(e,t,r)}),BaseSearchResource:({options:e,response:t})=>({type:c.A.SEARCH_PINS,id:(0,a.n1)(e),items:t.resource_response.data?.results||[]}),DidItCommentsResource:({options:{objectId:e}})=>({type:c.A.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:c.A.TRIED_IT_FEED,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:c.A.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:c.A.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:c.A.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:c.A.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:c.A.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:c.A.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:c.A.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:c.A.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},A=(e,{pinId:t,oldFeedId:r,newFeedId:n})=>r===n?e:((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:[{type:"pin",id:t},...e[r]]}:e)(((e,{pinId:t,feedId:r})=>e[r]?{...e,[r]:e[r].filter(e=>"pin"!==e.type||e.id!==t)}:e)(e,{pinId:t,feedId:r}),{pinId:t,feedId:n}),m=(e,t)=>(0,n.A)(p,e)?p[e](t):null,f=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,E=(e,t)=>e.map(e=>{let{id:r,schema:n,type:i}=e;return"home_feed_tabs"===i?e:n?{id:r,type:n,trackingParams:"pin"===n?t.pins[r].tracking_params:void 0,user_id:void 0}:null}).filter(Boolean),g=(e,t,r)=>Object.keys(e).reduce((n,i)=>{let o=e[i]||[],a=o.filter(e=>{if(e.type!==t)return!0;if("reaction"===t){let t=e.id.lastIndexOf(":");return e.id.substring(0,t)!==r}return e.id!==r});return o.length!==a.length&&(n[i]=a),n},{...e}),y=(e={},t)=>{switch(t.type){case o.v6:case o.LB:{let{payload:r}=t,{resource:i,options:a,normalizedResponse:s,schema:u}=r;if(s&&(0,n.A)(p,i)){let r=((e,t,r)=>{let n=r||d.A[e];if(n===l.hm)return t.result;if(n===l.IL)return t.result.map(e=>({id:e,schema:"board"}));if(n===l.Xm)return t.result.map(e=>({id:e,schema:"user"}));if(n===l.D$)return t.result.map(e=>({id:e,schema:"invite"}));if(n===l.d9)return t.result.map(e=>({id:e,schema:"reaction"}));if("object"==typeof n){let e=Object.entries(n).find(([,e])=>e===l.hm);if(e)return t.result[e[0]]}return null})(i,s,u);if(r&&Array.isArray(r)){let n=p[i](a);if(!n)return e;if("BoardToolsFeedResource"===i||"SectionToolsFeedResource"===i)return{...e,[n]:r};if("UnifiedCommentsResource"===i){let i=E(r,s.entities);if(e[n]&&(o.v6||o.LB===t.type))return{...e,[n]:[...e[n],...i]};return{...e,[n]:i}}{let i=[...t.type===o.LB&&e[n]||[],...E(r,s.entities)];return{...e,[n]:i}}}}else{let{data:n}=r.response.resource_response;if(!r.options?.redux_normalize_feed)return e;let i=_[r.resource]({options:r.options,response:r.response});if(i){let{type:r,id:a,items:s,reversed:d}=i,l=(s||n||[]).filter(Boolean).map(e=>((e,t)=>{switch(e.type){case"story":return{id:e.id??"",type:"story",story_type:e.story_type??""};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===c.A.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:let r="useCaseFeed"===t&&"tracking_params"in e;return{type:"pin",id:e.id??"",...r&&{trackingParams:e.tracking_params}}}})(e,r));d&&(l=l.reverse());let u=`${r}:${a}`,p=e[u];if(p||t.type!==o.LB){let r=p||[],n=l;return t.type===o.LB&&(n=d?l.concat(r):r.concat(l)),{...e,[u]:n}}}}break}case"FEED_ITEM_REORDERED":{let{payload:{feedType:r,feedId:n,itemType:o,targetItemId:a,sourceItemId:s}}=t,d=`${r}:${n}`,l=e[d]||[],u=-1,p=-1;if([c.A.BOARDFEED,c.A.BOARD_SECTION_PINS,c.A.BOARD_SECTIONS,"profileBoards"].includes(r)&&(u=l.findIndex(e=>e.type===o&&e.id===s),p=l.findIndex(e=>e.type===o&&e.id===a)),-1!==u&&-1!==p)return{...e,[d]:(0,i.A)(l,u,p)};break}case"FEED_ITEMS_REMOVED":{let{payload:{feedType:r,feedId:n,inverseSelection:i,itemType:o,itemIds:a=[]}}=t,s=`${r}:${n}`,d=e[s]||[];if(d&&d.length>0&&(r===c.A.BOARD_SECTION_PINS||r===c.A.BOARDFEED)){let t=d.filter(e=>{let t=a.includes(e.id);return!(e.type===o&&(i&&!t||!i&&t))}),r=!!t.find(e=>"pin"===e.type);return{...e,[s]:r?t:[]}}if(d&&d.length>0&&r===c.A.BOARD_SECTIONS||d&&d.length>0&&(r===c.A.AGGREGATED_COMMENTS||r===c.A.BOARDLESS_PINS||r===c.A.PROFILE_PINS_FEED||r===c.A.STORY_PINS_FEED||r===c.A.UNIFIED_COMMENTS||r===c.A.TRIED_IT_FEED||r===c.A.STORY_PIN_DATA)){let t=d.filter(e=>{let t=a.includes(e.id);return!(e.type===o&&t)});return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{let{payload:{feedType:r,feedId:n,itemType:i,itemIds:o=[],prepend:a}}=t,s=`${r}:${n}`,d=e[s]||[];if(d&&(r===c.A.BOARD_SECTION_PINS||r===c.A.BOARDFEED||r===c.A.BOARDLESS_PINS)){let t=o.map(e=>({id:e,type:i})),r=0;"story"===(d[0]||{}).type&&(r=1),"story"===(d[1]||{}).type&&(r=2);let n=[...d.slice(0,r),...t,...d.slice(r)];return{...e,[s]:n}}if(d&&r===c.A.BOARD_SECTIONS){let t=[...o].reverse().map(e=>({id:e,type:"boardsection"})),r=d?[...t,...d]:[...t];return{...e,[s]:r}}if(r===c.A.AGGREGATED_COMMENTS||r===c.A.AGGREGATED_COMMENT_REPLIES||r===c.A.PROFILE_PINS_FEED||r===c.A.STORY_PINS_FEED||r===c.A.UNIFIED_COMMENTS){let t=o.map(e=>({id:e,type:i})),r=d?[...a?t:d,...a?d:t]:t;return{...e,[s]:r}}if(r===c.A.TRIED_IT_FEED){let t=o.map(e=>({id:e,type:i})),r=d?[...t,...d]:t;return{...e,[s]:r}}break}case"FEED_INVALIDATE":{let{payload:{feedType:r,feedId:n}}=t,i=`${r}:${n}`;return e[i],{...e,[i]:null}}case"APPEND_FEED_ITEMS":{let{payload:{id:r,items:n,options:i}}=t,o=e[r];if(!o)return{...e,[r]:n};{let t;return t=i.isPrepend?o[0]&&"story"===o[0].type?[].concat(o[0],n,o.slice(1)):n.concat(o):o.concat(n),{...e,[r]:t}}}case"PIN_DELETE":{let{payload:{pinId:r}}=t;return g(e,"pin",r)}case"BOARD_ARCHIVE":{let{payload:{boardId:r,username:n}}=t,i=`profile-boards:${n??""}`;if(e[i])return{...e,[i]:e[i].filter(e=>e.id!==r)};break}case"BOARD_UNARCHIVE":{let{payload:{boardId:r}}=t,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter(e=>e.id!==r)};break}case"BOARD_DELETE":{let{payload:{boardId:r}}=t;return g(e,"board",r)}case"BOARD_SECTION_DELETE":{let{payload:{boardSectionId:r}}=t;return g(e,"boardsection",r)}case"PINS_MOVE":{let{payload:{source:r,target:n,pinIds:i,userId:o}}=t,a=r.boardlessPins&&o&&`boardless-pins:${o}`||r.boardId&&f(r.boardId,r.sectionId),s=f(n.boardId,n.sectionId);return i.reduce((e,t)=>A(e,{pinId:t,oldFeedId:a,newFeedId:s}),e)}case"PINS_MOVE_ALL":{let{payload:{source:r,target:n,excludePinIds:i}}=t,o=f(r.boardId,r.sectionId),a=f(n.boardId,n.sectionId),s={...e,[o]:i.map(e=>({type:"pin",id:e}))};return delete s[a],s}case"PIN_EDIT":{let{payload:{pinId:r,boardId:n,sectionId:i="",source:{boardId:o,sectionId:a}}}=t;return A(e,{pinId:r,oldFeedId:f(o,a),newFeedId:f(n,i)})}case o.lI:if(u.has(t.payload.resource)){let r,n=t.payload.response.resource_response.data,{board:i}=n;if("quick_saves"===i.layout)r=`boardless-pins:${t.payload.options.user_id}`;else{let e=t.payload.options.section;r=e?`board-section-pins:${e}`:`boardfeed:${i.id}`}if(e[r]){let t={...e},i={id:n.id,type:"pin",trackingParams:n?.tracking_params};return t[r]=[i].concat(e[r]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){let r=t.payload.normalizedResponse.result,n=t.payload.normalizedResponse.entities.boardsections?.[r].board;if(!n)return e;let i=`board-sections:${n}`;if(e[i]){let t={...e};return t[i]=[{id:r,type:"boardsection"}].concat(e[i]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){let r={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},n={...e};for(let i of["aggregated-comments","unified-comments"]){let o=`${i}:${t.payload.options.objectId}`;e[o]&&(n={...n,[o]:[r].concat(n[o])})}return n}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){let r=`${c.A.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[r]:[...e[r]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){let{reaction_pin_id:r,reaction_type:n}=t.payload.options;if("reaction"===t.payload.options.action_type){let i=`reactions:${t.payload.options.pin_id}`,o={...e},a={id:`${r}:${t.payload.options.user_id}:${n}`,type:"reaction",trackingParams:void 0};return o[i]=[a].concat(e[i]),o}if("unreaction"===t.payload.options.action_type)return g(e,"reaction",`${r}:${t.payload.options.user_id}`)}}return e}},879012(e,t,r){var n=r(867076),i=r(740573),o=r(227025),a=r(490872),s=r(641081),d=r(751851),l=r(425347),c=r(562615);(0,d.A)(e=>{let{initialServerContext:t,initialProps:r,requestContext:d,ssrIsEnabled:u,handler:p}=e,{appTypeDetailed:_,isAuthenticated:A,isBot:m,userAgent:f}=d;(0,i.OK)();let E=(0,s.A)({initialServerContext:t,initialReduxState:r.initialReduxState,isAppShell:r.isAppShell,requestContext:d});(0,o.Ay)({requestContext:d});let g=Object.keys(r.initialReduxState.resources||{}),y=g.join("-")||"none";return(0,l.GV)("pws.renderClient.ssr.initialReduxStateResources",{sampleRate:.1,tags:{handler:p,browserName:f.browserName,isAuthenticated:A,isBot:m,appTypeDetailed:_,resources:y,resourceCount:g.length,ssrIsEnabled:u}}),{rootComponent:({children:e})=>(0,c.jsx)(a.default,{context:t,inContextTranslation:r.inContextTranslation,initialReduxState:r.initialReduxState,otaData:r.otaData,pwaContext:r.pwaContext,requestContext:d,resourceCreator:n.A.create,store:E,children:e})}})},478410(e,t,r){r.d(t,{f:()=>y,R:()=>R});var n=r(840910),i=r(859471),o=r(224989),a=r(979638),s=r(669897),d=r(805454),l=r(467780);function c(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}function u(e){return{result:{kind:"Ok",value:e},read:()=>e}}var p=r(259543),_=r(370211),A=r(425347),m=r(562615);let f=(0,i.createContext)(null),E=/(^\/)|:|(\/$)/g,g=/\//g,y=({children:e})=>{(0,i.useEffect)(()=>{(0,n.A)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,o.useRelayEnvironment)(),{checkExperiment:r}=(0,d.A)(),s=(0,l._8)(),c=(0,i.useRef)({}),u=(0,i.useCallback)(e=>{let{rootComponent:n,loadedValueState:i}=I(h(c.current,e),e,"Both",t,r,s);return"NotYetRendered"===i.performanceLoggingState.kind&&(i.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:n,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===i.performanceLoggingState.kind){let r=Date.now();(0,A.N9)("entrypointRouter.routeTiming."+e.kind.replace(E,"").replace(g,"_"),r-i.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),i.performanceLoggingState={kind:"Complete"}}},loadedValue:i.loadedValue}},[r,t,s]),_=(0,a.Zp)(),y=(0,i.useCallback)(e=>{I(h(c.current,e),e,"Both",t,r,s),_((0,p.P)(e))},[_,r,t,s]),R=(0,i.useCallback)((e,n)=>{let i=h(c.current,e);"Both"===n&&I(i,e,n,t,r,s)},[r,t,s]),T=(0,i.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:u,preload:R,imperativelyNavigate:y}),[u,y,R]);return(0,m.jsx)(f,{value:T,children:e})};function R(){let e=(0,i.use)(f);if(null==e)throw Error("Missing entrypoint context");return e}function h(e,t){let r=p.A[t.kind];if(null==r)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");let n=r.loader();return e[t.kind]??={rootComponent:c(r.rootComponent()),loadedValueStates:{},loader:(0,s.isPromise)(n)?c(n):u(n)}}function I(e,t,r,n,i,o){var a;let s=JSON.stringify((0,_.A)(t.routeParams)),{loadedValueStates:d,rootComponent:l,loader:p}=e;return{rootComponent:l,loadedValueState:d[s]??=(a=t.kind,setTimeout(()=>{let e=d[s];null!=e&&(0,A.GV)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:a,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){let{result:r}=e;switch(r.kind){case"Pending":return c(r.promise.then(t));case"Ok":return u(t(r.value));case"Err":var n;return{result:{kind:"Err",error:n=r.error},read:()=>{throw n}};default:throw Error("Unexpected case")}}(p,e=>e({routeParams:t.routeParams,relayEnvironment:n,checkExperiment:i,requestContext:o})),performanceLoggingState:{kind:"NotYetRendered"}})}}},259543(e,t,r){r.d(t,{P:()=>o,A:()=>i});var n=r(479123);let i={"/collage-creation-tool":{loader:()=>Promise.all([r.e("92989"),r.e("31623")]).then(r.bind(r,718040)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("78180"),r.e("91796"),r.e("86527"),r.e("92989"),r.e("2197"),r.e("29802"),r.e("33528"),r.e("90300"),r.e("19320"),r.e("25893")]).then(r.bind(r,296520)).then(e=>e.default)},"/comparison/results":{loader:()=>r.e("27441").then(r.bind(r,808451)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("78180"),r.e("91796"),r.e("13601"),r.e("82733"),r.e("20223")]).then(r.bind(r,195230)).then(e=>e.default)},"/comparison/select/:id":{loader:()=>r.e("54555").then(r.bind(r,898404)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("78180"),r.e("91796"),r.e("13601"),r.e("82733"),r.e("28097")]).then(r.bind(r,878572)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([r.e("91796"),r.e("60441")]).then(r.bind(r,892230)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("78180"),r.e("91796"),r.e("98764"),r.e("91465"),r.e("58497"),r.e("223")]).then(r.bind(r,630576)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>r.e("76719").then(r.bind(r,221807)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("78180"),r.e("91796"),r.e("24266"),r.e("1549"),r.e("89090"),r.e("27959"),r.e("26983"),r.e("49961"),r.e("96559"),r.e("17965"),r.e("69533")]).then(r.bind(r,529509)).then(e=>e.default)},"/today/":{loader:()=>r.e("15960").then(r.bind(r,751193)).then(e=>e.default),rootComponent:()=>Promise.all([r.e("78180"),r.e("91796"),r.e("98764"),r.e("62575"),r.e("96673"),r.e("91465"),r.e("51238")]).then(r.bind(r,770246)).then(e=>e.default)}};function o(e){return(0,n.tW)(e.kind,e.routeParams)}},370211(e,t,r){r.d(t,{A:()=>function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let r=Object.keys(t).sort(),n={};for(let i=0;i<r.length;i++)n[r[i]]=e(t[r[i]]);return n}})},505018(e,t,r){r.d(t,{$:()=>d,P:()=>s});var n=r(859471),i=r(979638),o=r(562615);let a=(0,n.createContext)(null);function s({children:e}){let t=(0,i.zy)(),r=(0,n.useMemo)(()=>t,[]);return(0,o.jsx)(a,{value:r,children:e})}function d(){return(0,i.zy)()===(0,n.use)(a)}}},function(e){e.O(0,["11329","12514","13807","21363","23254","28807","34224","35371","36224","36316","36640","42514","4843","48938","50015","51627","54427","55880","58273","66727","68321","71649","7272","78180","80816","83452","85974","91796","92805"],function(){return e(e.s=879012)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/_client-f95e425c2b198e1b.mjs.map